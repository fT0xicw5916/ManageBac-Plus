<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Loading GPA data...</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <script>
            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            function navigate() {
                window.location.href = "grades";
            }
            async function getProgress() {
                let get;
                do {
                    try {
                        const res = await fetch("/get_cache_grade_data_progress");
                        get = await res.json();
                    } catch(e) {
                        console.error("Error: ", e);
                    }
                    document.getElementById("load").innerHTML = get.progress;
                    sleep(250);
                } while(get.progress != -1.0);
                navigate();
            }
            getProgress();
        </script>
    </head>
    <body>
        <div id="load"></div>
    </body>
</html>
